# 数字逻辑电路基础

## 晶体管

![image-20251213211317036](Typara用到的图片/image-20251213211317036.png)



主要是CMOS部分

![image-20251213211550134](Typara用到的图片/image-20251213211550134.png)

> 注意pMOS带圆圈，栅极与源极电压差大时导通，也就是和上方比电压
>
> nMOS不带圆圈，也是栅极与源极电压差大时导通，但是和下方比电压

## 通过晶体管搭建门电路

### 非门

上图就是非门，会将输入取反

![image-20251213211644191](Typara用到的图片/image-20251213211644191.png)

### 与非门

![image-20251213211717803](Typara用到的图片/image-20251213211717803.png)

> 主要就是模拟输入端AB的所有情况，列出输出Y的所有结果判断是什么门电路。为了得到Y的结果，在过程中也需要记录N和P的结果

|  A   |  B   |  P1  |  P2  |  N1  |  N2  |  Y   |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  0   |  0   | 导通 | 导通 | 截止 | 截止 |  1   |
|  0   |  1   | 导通 | 截止 | 截止 | 导通 |  1   |
|  1   |  0   | 截止 | 导通 | 导通 | 截止 |  1   |
|  1   |  1   | 截止 | 截止 | 导通 | 导通 |  0   |

### 与门

就是在与非门原来的Y处后面接个非门

![image-20251213212242720](Typara用到的图片/image-20251213212242720.png)

|  A   |  B   |  P1  |  P2  | P3   |  N1  |  N2  | N3   |  Y   |
| :--: | :--: | :--: | :--: | ---- | :--: | :--: | ---- | :--: |
|  0   |  0   | 导通 | 导通 | 截止 | 截止 | 截止 | 导通 |  0   |
|  0   |  1   | 导通 | 截止 | 截止 | 截止 | 导通 | 导通 |  0   |
|  1   |  0   | 截止 | 导通 | 截止 | 导通 | 截止 | 导通 |  0   |
|  1   |  1   | 截止 | 截止 | 导通 | 导通 | 导通 | 截止 |  1   |



### 或非门

![image-20251213213050583](Typara用到的图片/image-20251213213050583.png)

|  A   |  B   |  P1  |  P2  |  N1  |  N2  |  Y   |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  0   |  0   | 导通 | 导通 | 截止 | 截止 |  1   |
|  0   |  1   | 导通 | 截止 | 截止 | 导通 |  0   |
|  1   |  0   | 截止 | 导通 | 导通 | 截止 |  0   |
|  1   |  1   | 截止 | 截止 | 导通 | 导通 |  0   |

通过以上表格可以看出这是一个或非门

### 或门

晶体管结构如下图

其实就是上面的或非门加上个非门

![image-20251213214932590](Typara用到的图片/image-20251213214932590.png)

|  A   |  B   |  P1  |  P2  | P3   |  N1  |  N2  | N3   |  Y   |
| :--: | :--: | :--: | :--: | ---- | :--: | :--: | ---- | :--: |
|  0   |  0   | 导通 | 导通 | 截止 | 截止 | 截止 | 导通 |  0   |
|  0   |  1   | 导通 | 截止 | 导通 | 截止 | 导通 | 截止 |  1   |
|  1   |  0   | 截止 | 导通 | 导通 | 导通 | 截止 | 截止 |  1   |
|  1   |  1   | 截止 | 截止 | 导通 | 导通 | 导通 | 截止 |  1   |

### 三输入与非门

与非门不止有两个输入的，还可以有更多输入，下面是3个输入的情况

![image-20251213215429109](Typara用到的图片/image-20251213215429109.png)

可以通过一个与门和一个与非门实现，也可以只使用晶体管重新设计实现

![image-20251213215628230](Typara用到的图片/image-20251213215628230.png)

在不考虑面积的情况下，前者需要6+4=10个晶体管，后者只需要6个晶体管

### 异或门

不相同输出1，相同输出0



> ### 真值表到逻辑表达式的转换
>
> 看真值表的表项，是1就写本身，是0就写本身的取反
>
> 将所有的表项与起来
>
> 最后将输出为1的结构或一下
>
> 如下图
>
> ![image-20251213222002796](Typara用到的图片/image-20251213222002796.png)

依照上述结果可以简单的通过与门和或门实现

![image-20251213222748658](Typara用到的图片/image-20251213222748658.png)

共使用6\*2+2\*2+6=22个晶体管

#### 异或门的优化

可以使用或非门和与门来实现

其逻辑表达式可转化为(A & B) NOR (A NOR B)

![image-20251214082630187](Typara用到的图片/image-20251214082630187.png)

#### 异或门的全定制电路

![image-20251214082751028](Typara用到的图片/image-20251214082751028.png)

它在最后使用了一个传输门，当A是1时，传输门关闭，只考虑左侧的B即可，是0则上侧导通就输出1，是0则下侧导通输出0

当A是0时，右侧电路N2下方是高电平，P2上方是低电平，无论左侧的B是0还是1都不会影响Y的值。但此时右侧的传输门是联通的，Y值与右侧的B完全相同。

> 注意，我的理解传输门是双向联通的，但是logisim里却好像有方向，是单向联通，所以必须使得箭头向左才能实现。如下图，上面是对的。好像在这里只能让它从**源极流向漏极**
>
> ![image-20251214085349340](Typara用到的图片/image-20251214085349340.png)

### 同或门

相同输出1，不同输出0

最简单的实现和就是异或的取反

![image-20251213225011656](Typara用到的图片/image-20251213225011656.png)

或者按照查真值表构建表达式的方式构建如下，可以省一个非门

![image-20251213225503530](Typara用到的图片/image-20251213225503530.png)

> 上述描述方式是错的，第一个同或门使用或非门实现反而更省晶体管。。

#### 同或门的全定制电路

![image-20251214092657300](Typara用到的图片/image-20251214092657300.png)

就是将异或门的反过来

## 进位计数法

2进制和16进制都比较熟悉了

下面稍微考虑一下8进制转换

8进制转换成2进制只需要把每一位转换成3位2进制即可

2进制转换成8进制只需要把每3位转换成1位8进制即可，不够的高位补0

8进制转10进制，只需要按位数去乘以权值即可，如最低位就乘以8的0次方，第二位就乘以8的1次方，再加起来就行了

10进制转8进制，可以先转2再转8，或者和转2进制意义，每次除以8，把余数存下来，倒着排列即可。如20转换，商2余4，然后2再除以8，商0余2。最后结果就是24，

## 通过门电路搭建基本组合逻辑电路

### 译码器

2-4译码器，写出真值表，通过与门和非门即可实现

![image-20251214213902616](Typara用到的图片/image-20251214213902616.png)

在logisim中设计如下，可以使用子电路保存下来

![image-20251214213953282](Typara用到的图片/image-20251214213953282.png)

3-8译码器可以通过4个2-4译码器实现

![image-20251214214235918](Typara用到的图片/image-20251214214235918.png)

(但是感觉这样好像不是很对，加了好多门电路，但是功能是对的)

> 看了下由2个2-4译码器即可。。但是需要增加使能信号才行，暂且先不管吧

#### 转码器

主要是将一种输入转换成另一种输出，余译码器的不同在于输出不止一个1，不是one-hot类型的

主要看七段数码管译码器吧

> 0：abcdef
>
> 1：bc
>
> 2：abdeg
>
> 3：abcdg
>
> 4：bcfg
>
> 5：acdfg
>
> 6：acdefg
>
> 7：abc
>
> 8：abcdefg
>
> 9：abcdfg
>
> 所以说
>
> a：02356789
>
> b：01234789
>
> c：013456789
>
> d：0235689
>
> e：0268
>
> f：045689
>
> g：2345689
>
> 即可构建或门了，下图实现了0-9
>
> ![image-20251214230917110](Typara用到的图片/image-20251214230917110.png)
>
> 对16位的：
>
> A：abcefg
>
> b：cdefg
>
> C：adef
>
> d：bcdeg
>
> E：adefg
>
> F：aefg
>
> 所以说更新为
>
> a：02356789ACEF
>
> b：01234789AD
>
> c：013456789ABD
>
> d：0235689BCDE
>
> e：0268ABCDEF
>
> f：045689ABCEF
>
> g：2345689ABDEF
>
> 实现如下
>
> ![image-20251214234814769](Typara用到的图片/image-20251214234814769.png)

### 编码器

它的功能与译码器相反，是将2^n^ 位独热嘛转换成n位2进制数

**当输入不为独热码时，输出未定义**

> 16-4编码器
>
> 第一位：89abcdef
>
> 第二位：4567cdef
>
> 第三位：2367abef
>
> 第四位：13579bdf
>
> 然后采用或门加实现即可，右边的seven_segment_circuit16是上面实现电路构建的子电路，输入为4位宽，所以需要通过一下集线器
>
> ![image-20251215100334976](Typara用到的图片/image-20251215100334976.png)

#### 优先编码器

当输入有多个1时，优先输出高位的结果

> 4-2优先编码器的真值表如下
>
> 
>
> | $A_3$ | $A_2$ | $A_1$ | $A_0$ |      | $Y_1$ | $A_0$ |
> | :---: | :---: | :---: | :---: | :--: | :---: | :---: |
> |   0   |   0   |   0   |   1   |      |   0   |   0   |
> |   0   |   0   |   1   |   0   |      |   0   |   1   |
> |   0   |   0   |   1   |   1   |      |   0   |   1   |
> |   0   |   1   |   0   |   0   |      |   1   |   0   |
> |   0   |   1   |   0   |   1   |      |   1   |   0   |
> |   0   |   1   |   1   |   0   |      |   1   |   0   |
> |   0   |   1   |   1   |   1   |      |   1   |   0   |
> |   1   |   0   |   0   |   0   |      |   1   |   1   |
> |   1   |   0   |   0   |   1   |      |   1   |   1   |
> |   1   |   0   |   1   |   0   |      |   1   |   1   |
> |   1   |   0   |   1   |   1   |      |   1   |   1   |
> |   1   |   1   |   0   |   0   |      |   1   |   1   |
> |   1   |   1   |   0   |   1   |      |   1   |   1   |
> |   1   |   1   |   1   |   0   |      |   1   |   1   |
> |   1   |   1   |   1   |   1   |      |   1   |   1   |
> |   0   |   0   |   0   |   0   |      |   X   |   X   |
>
> 可以通过与门来实现，0001输出00，001_输出01，01__输出10，1输出11，如下图
>
> ![image-20251215110016923](Typara用到的图片/image-20251215110016923.png)
>
> 但是发现0001的与门完全没用。。可以变成这样
>
> ![image-20251215110223717](Typara用到的图片/image-20251215110223717.png)
>
> 而普通的4-2编码器如下
>
> ![image-20251215110304409](Typara用到的图片/image-20251215110304409.png)
>
> 可以看出优先编码器需要多用2个与门和3个非门
>
> ..发现还可以更少一些
>
> ![image-20251215141234888](Typara用到的图片/image-20251215141234888.png)

### 多路选择器

可以根据控制端的输入来从多个数据端中选择一路进行输出。也叫"多路复用器", 或简称"选择器"

> #### 1位2选1选择器
>
> 根据控制端的输入从两路1位的数据中选择一路进行输出
>
> ![image-20251216081509895](Typara用到的图片/image-20251216081509895.png)

> #### 3位4选1选择器
>
> 注意所有门的输入位数都选择3位
>
> ![image-20251216083449089](Typara用到的图片/image-20251216083449089.png)

> #### 可切换进位计数制的七段数码管
>
> ![image-20251216084707931](Typara用到的图片/image-20251216084707931.png)
>
> 只能让另一个进制的显示为0，不能不显示。。

### 比较器

用于比较两组输入是否相同

> #### 4位比较器
>
> ![image-20251216090002342](Typara用到的图片/image-20251216090002342.png)
>
> 使用同或门加上与门实现即可

### 加法器

#### 半加器

真值表如下

|  A   |  B   |  S   |  C   |
| :--: | :--: | :--: | :--: |
|  0   |  0   |  0   |  0   |
|  0   |  1   |  1   |  0   |
|  1   |  0   |  1   |  0   |
|  1   |  1   |  0   |  1   |

S是和，C是进位

S=A^B,C=A&B

![image-20251216091204891](Typara用到的图片/image-20251216091204891.png)

#### 全加器

|  A   |  B   | Cin  |  S   | Cout |
| :--: | :--: | :--: | :--: | :--: |
|  0   |  0   |  0   |  0   |  0   |
|  0   |  1   |  0   |  1   |  0   |
|  1   |  0   |  0   |  1   |  0   |
|  1   |  1   |  0   |  0   |  1   |
|  0   |  0   |  1   |  1   |  0   |
|  0   |  1   |  1   |  0   |  1   |
|  1   |  0   |  1   |  0   |  1   |
|  1   |  1   |  1   |  1   |  1   |

所以S=A\^B\^C，Cout= A&B | Cin&(A|B)

> #### 1位全加器的直接实现
>
> ![image-20251216092543786](Typara用到的图片/image-20251216092543786.png)
>
> **注意异或门要修改设置为奇数个输入为真**
>
> ![image-20251216092532272](Typara用到的图片/image-20251216092532272.png)

> #### 通过半加器实现全加器
>
> ![image-20251216093243426](Typara用到的图片/image-20251216093243426.png)

#### 多位加法器

将多个全加器组合起来就可以得到多位加法器了

**第一个因为没有进位所以，可以使用半加器来实现**

![image-20251216093745247](Typara用到的图片/image-20251216093745247.png)

> ####  搭建4位加法器
>
> 用七段数码管按十六进制显示加法器的两个输入和结果, 并用一个LED灯指示加法结果是否产生进位. 
>
> ![image-20251216094931023](Typara用到的图片/image-20251216094931023.png)
